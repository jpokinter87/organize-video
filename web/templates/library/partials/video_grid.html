{% if videos %}
<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
    {% for video in videos %}
    {% include "components/poster_card.html" with video=video %}
    {% endfor %}
</div>

<!-- Pagination -->
{% if videos.has_other_pages %}
<div class="mt-8 flex justify-center">
    <nav class="flex items-center gap-1">
        {% if videos.has_previous %}
        <a href="?page={{ videos.previous_page_number }}{% if current_category %}&category={{ current_category }}{% endif %}{% if current_genre %}&genre={{ current_genre }}{% endif %}{% if search_query %}&q={{ search_query }}{% endif %}"
           class="px-3 py-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-dark-300">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
        </a>
        {% endif %}

        {% for num in videos.paginator.page_range %}
            {% if videos.number == num %}
            <span class="px-4 py-2 bg-primary-600 rounded-lg text-white font-medium">{{ num }}</span>
            {% elif num > videos.number|add:'-3' and num < videos.number|add:'3' %}
            <a href="?page={{ num }}{% if current_category %}&category={{ current_category }}{% endif %}{% if current_genre %}&genre={{ current_genre }}{% endif %}{% if search_query %}&q={{ search_query }}{% endif %}"
               class="px-4 py-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-dark-300">
                {{ num }}
            </a>
            {% endif %}
        {% endfor %}

        {% if videos.has_next %}
        <a href="?page={{ videos.next_page_number }}{% if current_category %}&category={{ current_category }}{% endif %}{% if current_genre %}&genre={{ current_genre }}{% endif %}{% if search_query %}&q={{ search_query }}{% endif %}"
           class="px-3 py-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-dark-300">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
        </a>
        {% endif %}
    </nav>
</div>
{% endif %}

{% else %}
<div class="text-center py-16">
    <svg class="w-16 h-16 mx-auto text-dark-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"/>
    </svg>
    <h3 class="text-xl font-medium text-white mb-2">Aucune video trouvee</h3>
    <p class="text-dark-400">
        {% if search_query %}
        Aucun resultat pour "{{ search_query }}"
        {% else %}
        La bibliotheque est vide. Lancez un scan pour ajouter des videos.
        {% endif %}
    </p>
</div>
{% endif %}
